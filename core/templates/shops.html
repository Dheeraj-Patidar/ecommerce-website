{%extends 'basic.html'%}
{%block titel%}shop.com {%endblock%}

{%block body%}
<div class="container-fluid my-5">






  <!-- Delete Product Modal -->
  {%for item in shopdata%}
  <div class="modal fade" id="modal{{item.id}}" tabindex="-1" role="dialog" aria-labelledby="modalLabel"
    aria-hidden="true">
    <div class="modal-dialog" role="document">
      <div class="deleteshopmodal">

        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body">
            Are you sure you want to delete this product?
          </div>

          <div class="modal-footer">
            <!-- <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>

            <button type="button" class="btn btn-danger">

              <a href="/core/delete/{{item.id}}" style="color: white; text-decoration: none;">
                Delete</a>

            </button> -->
            <form method="post" action="{% url 'deleteproduct' item.id %}">
              {% csrf_token %}
              <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
              <button type="submit" class="btn btn-danger">Delete</button>
            </form>
          </div>
        </div>
      </div>
    </div>
  </div>
  {%endfor%}



  <!-- Add Product Modal -->
  <!-- <div class="modal fade" id="productmodal" tabindex="-1" role="dialog" aria-labelledby="modalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
      <div class="addproductmodel">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="productmodallabel">Add your products</h5>

            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>

          </div>

          <div class="modal-body">
            <form action="/core/shop/" method="post" id="addproductform" enctype="multipart/form-data">
              {%csrf_token%}
              {{form.as_p}} -->
  <!-- <div class="form-group">
                <label for="{{ form.catagory.id_for_label }}">Catagory</label>
                {{ form.catagory }}
              </div>
              <div class="form-group">
                <label for="{{ form.name.id_for_label }}">Name</label>
                {{ form.name }}
                <div class="error text-danger" id="name-error"></div>
              </div>
              <div class="form-group">
                <label for="{{ form.desc.id_for_label }}">Description</label>
                {{ form.desc }}
                <div class="error text-danger" id="desc-error"></div>
              </div>
              <div class="form-group">
                <label for="{{ form.price.id_for_label }}">Price</label>
                {{ form.price }}
                <div class="error text-danger" id="price-error"></div>
              </div>
              <div class="form-group">
                <label for="{{ form.quantity.id_for_label }}">Quantity</label>
                {{ form.quantity }}
                <div class="error text-danger" id="quantity-error"></div>
              </div>

              <div class="form-group">
                <label for="{{ form.img.id_for_label }}">Image</label>
                {{ form.img }}
              </div>
              <div class="form-group">
                <label for="{{ form.brand.id_for_label }}">Brand</label>
                {{ form.brand }}
              </div>
              <div class="form-group">
                <label for="{{ form.price_filter.id_for_label }}">Price Filter</label>
                {{ form.price_filter }}
              </div>
              <div class="form-group">
                <label for="{{ form.size.id_for_label }}">Size</label>
                {{ form.size }}
              </div>
              <div class="form-group">
                <label for="{{ form.discount.id_for_label }}">Discount</label>
                {{ form.discount }}
                <div class="error text-danger" id="discount-error"></div>
              </div> -->




  <!-- <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>

                <button type="submit" class="btn btn-success">Add</button>
              </div>
          </div>

          </form>
        </div>
      </div>
    </div>
  </div>
</div>
</div>
</div> -->

  <div class="modal fade" id="productmodal" tabindex="-1" role="dialog" aria-labelledby="modalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
      <div class="addproductmodel">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="productmodallabel">Add your products</h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body">
            <form action="/core/shop/" method="post" id="addproductform" enctype="multipart/form-data">
              {% csrf_token %}


              <div class="form-group">
                <label for="{{ form.catagory.id_for_label }}">Catagory</label>
                {{ form.catagory }}
              </div>
              <div class="form-group">
                <label for="{{ form.name.id_for_label }}">Name</label>
                {{ form.name }}
                <div class="error text-danger" id="name-error"></div>
              </div>
              <div class="form-group">
                <label for="{{ form.desc.id_for_label }}">Description</label>
                {{ form.desc }}
                <div class="error text-danger" id="desc-error"></div>
              </div>
              <div class="form-group">
                <label for="{{ form.price.id_for_label }}">Price</label>
                {{ form.price }}
                <div class="error text-danger" id="price-error"></div>
              </div>
              <div class="form-group">
                <label for="{{ form.quantity.id_for_label }}">Quantity</label>
                {{ form.quantity }}
                <div class="error text-danger" id="quantity-error"></div>

              </div>

              <div class="form-group">
                <label for="{{ form.img.id_for_label }}">Image</label>
              {{ form.img }}
                </div>
              <div class="form-group">
                <label for="{{ form.brand.id_for_label }}">Brand</label>
                {{ form.brand }}
              </div>
              <div class="form-group">
                <label for="{{ form.price_filter.id_for_label }}">Price Filter</label>
                {{ form.price_filter }}
              </div>
              <div class="form-group">
                <label for="{{ form.color.id_for_label }}">Color</label>
                {{ form.color }}
              </div>
              <div class="form-group">
                <label for="{{ form.size.id_for_label }}">Size</label>
                {{ form.size }}
              </div>
              <div class="form-group">
                <label for="{{ form.discount.id_for_label }}">Discount</label>
                {{ form.discount }}
                <div class="error text-danger" id="discount-error"></div>

              </div>
              

            <div class="modal-footer">
              <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
              <button type="submit" class="btn btn-success">Add</button>
            </div>
            </form>
          </div>
        </div>
      </div>
    </div>
  </div>




  <div class="modal fade" id="updateProductModal" tabindex="-1" role="dialog" aria-labelledby="modalLabel"
    aria-hidden="true">
    <div class="modal-dialog" role="document">
      <div class="updateProductModal">
        <div class="modal-content" style="margin-top: 200px;">
          <div class="modal-header">
            <h5 class="modal-title" id="updateProductModalLable">Update Product</h5>

            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>

          </div>

          <div class="modal-body">
            {%include 'updateproduct.html'%}
          </div>
        </div>
      </div>
    </div>
  </div>



  <div class="container-fluid my-3">

    <table class="table" border="1">
      <button class="btn btn-primary" data-toggle="modal" data-target="#productmodal"><a
          style="color: white; text-decoration: none;">Add Product</a></button>
      <thead>
        <tr>
          <th scope="col">Image</th>
          <th scope="col">Catagory</th>
          <th scope="col">Product Name</th>
          <th scope="col">Description</th>
          <th scope="col">Price</th>
          <th scope="col">Quantity</th>
          <th scope="col">Brand</th>
          <th scope="col">Color</th>
          <th scope="col">Price Filter</th>
          <th scope="col">Size</th>
          <th scope="col">Discount</th>
          <th scope="col">Action1</th>
          <th scope="col">Action2</th>
        </tr>
      </thead>
      <tbody>

        {% for item in shopdata %}
        <tr>
          <td><img style="height: 70px;" src="/core/media/{{item.img}}"></td>
          <td id="catagory_">{{item.catagory}}</td>
          <td id="name_">{{item.name}}</td>
          <td id="desc_">{{item.desc}}</td>
          <td id="price_">{{item.price}}</td>
          <td id="quantity_">{{item.quantity}}</td>
          <td id="brand_">{{item.brand}}</td>
          <td id="brand_">{{item.color}}</td>
          <td id="price_filter_">{{item.price_filter}}</td>
          <td id="size_">{{item.size}}</td>
          <td id="discount_">{{item.discount}}%</td>
          <td><button class="btn btn-primary btn-update-product" data-product-id="{{item.id}}">Update</button></td>
          <!-- <td><button class="btn btn-primary"><a href="/core/updateproduct/{{item.id}}"
        style="color: white; text-decoration: none;">Update</a></button></td> -->
          <td><button class="btn btn-danger" data-toggle="modal" data-target="#modal{{item.id}}">Delete</button></td>
        </tr>
        {%endfor%}
      </tbody>
    </table>

  </div>
</div>

</div>

{%endblock%}